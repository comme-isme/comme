create empty-> 이름 game manager -> script 추가(game manager)


using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GameManager:MonoBehaviour{
  //점수와 스테이지 관리
  public int totalPoint;
  public int stagePoint;
  public int stageIndex;
  public int health;
  public PlayerMove player;  ->인스펙터창에 끌어다 놓기
  
  public void nextStage(){
  
    stageIndex++;
    totalPoint +=stagePoint;
    stagePoint=0;
  }
  
  //얘를 낭떨어지 밑으로 collider 설정
  void OnTriggerEnter2D(Collider2D collision){
    if(collision.gameObject.tag=="Player")
      health--;
      
      //플레이어 원위치
      collision.attachedRigidbody.velocity =Vector2.zero;
      collision.transform.position =new Vector3(0,0,-1);
    }
  }
  
  public void HealthDown(){
    if(health>0)
      health--;
    else
      player.OnDie();
    
  
  public void OnDie(){
    spriteRenderer.color=new Color(1,1,1,0.4f);
    spriteRenderer.flipY=true;
    capsuleCollider.enabled=false;
    rigid.AddForce(Vector2.up*5,ForceMode2D.Impulse);
  }
 
 
}
